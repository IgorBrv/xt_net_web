@using Epam.ASPNet.PL.Models;

@{
    bool error = false;
    string title = "Страница авторизации";
    string headerText = "Авторизация";
    string saveButtonName = "Вход";
    string action = "/Models/authModel.cshtml";


    if (Page.HeaderText != null)
    {
        title = Page.Title;
        action = Page.Action;
        headerText = Page.HeaderText;
        saveButtonName = Page.SaveButtonName;
    }
    if (CommonData.authError)
    {
        CommonData.authError = false;
        error = true;
    }
}

<!DOCTYPE html>

<html lang="ru">
<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <title>@title</title>
    <link rel="stylesheet" href="~/Pages/css/auth.css">
</head>
<body class="body">
    <script>
        function goBack() { window.location.replace('/Pages/authPage.cshtml') }
        function switchForm() { window.location.replace('/Pages/regPage.cshtml') }
    </script>
    <div class="background">
        <style>
            /* Fixed Background for IOS browser */
            .background {
                z-index: -2;
                width: 100%;
                height: 100%;
                position: fixed;
                background-image: url("/Pages/images/background.jpeg");
            }
        </style>
    </div>

    @if (error)
    {
        <div class="auth-error-baloon">
            <p>Ошибка входа! Проверьте правильность ввода!</p>
        </div>
    }

    <div class="authcontainer">
        <form method="post" action=@action class="authform">
            <h1 class="authheader">@headerText</h1>
            <hr class="authhr">
            <p class="authlabel">Email:</p>
            <input type="email" required id="" name="email" class="authinput">
            <p class="authlabel">Пароль:</p>
            <input type="password" required maxlength="50" id="" name="password" class="authinput">
            @if (Page.HeaderText != null)
            {
                <p class="authlabel">Имя:</p>
                <input type="text" required maxlength="250" id="" name="name" class="authinput">
                <p class="authlabel">Дата рождения:</p>
                <input type="date" required id="" name="date" class="authinput">
            }
            <div class="authbuttons">
                @if (Page.HeaderText == null)
                {
                    <button type="button" class="authbutton regbutton" onclick="switchForm()">Регистрация</button>
                }
                else
                {
                    <button type="button" class="authbutton regbutton" onclick="goBack()">Выход</button>
                }
                <button type="submit" class="authbutton">@saveButtonName</button>
            </div>
        </form>
    </div>
</body>
</html>
